Title: Crea Agentes de IA en N8N con SOLO 1 Prompt (Claude MCP)
URL: https://www.youtube.com/watch?v=WpX5oZjBJ8s
Video ID: WpX5oZjBJ8s
Language: None
Timestamp: 2025-10-12T22:57:20.655963
Word Count: 3040

================================================================================

Cloudae acaba de lanzar su nueva función MCP que te permite crear automatizaciones completas en N8n y agentes de IA desde cero utilizando un solo prompt y después de probarla la verdad me parece increíble. En este vídeo te voy a enseñar exactamente cómo funciona pero además cómo configurarla paso a paso dentro de tu Cloudae y N8n para que puedas empezar a crear agentes de IA en cuestión de segundos. De hecho, esta automatización que ves aquí funciona y la construye en tan solo un minuto siguiendo el mismo paso a paso que veremos a lo largo del vídeo. Así que si te quedas hasta el final sabrás exactamente cómo configurar este tipo de workflows. Vamos a ello. Antes de empezar hay que entender una limitación muy común entre los modelos de IA actuales. Herramientas como chatGPT o cualquier otro modelo de lenguaje pueden conversar o responder preguntas pero por sí solas no tienen la capacidad de interactuar directamente con las aplicaciones que utilizamos día a día. Es decir, si yo le digo envía un correo a esta persona o pongo una reunión en el calendario la IA por sí misma no puede abrir Slack o Gmail para hacerlo. Ahí es donde entra en juego el Model Context Protocol o MCP. Este protocolo es el que permite que un asistente como Cloudae pueda conectarse con herramientas externas y ejecutar acciones por nosotros. Para entender cómo funciona MCP primero hay que tener clara su estructura técnica. Básicamente se compone de tres piezas principales. Primero, el cliente, que en este caso es Cloudae, y es el asistente con el que hablas y al que le das las instrucciones el lenguaje natural. Después el servidor, que es el núcleo y el que recibe esas instrucciones y decide a qué aplicación debe enviarlas. Y por último, los conectores, que son los enlaces con las distintas herramientas externas como Gmail o, en nuestro caso, N8n. Por ejemplo, si pides enviar un correo, agenda una reunión o crea un workflow en N8n, Cloudae pasa la orden al servidor, este elige el conector adecuado y la acción se ejecuta en la plataforma correspondiente de forma automática. Ahora que tenemos esto en cuenta, vamos a empezar a configurar todo el sistema paso a paso. Para que sea más sencillo de seguir, he preparado un documento en Ocean donde encontrarás la guía completa y ordenada con cada instrucción en detalle. Si quieres acceder a este documento junto a otros recursos que veremos a lo largo del vídeo, te lo dejo en el enlace de la descripción para que puedas descargarlo de forma gratuita. El primer paso es tener Cloud instalado en tu escritorio. Para hacerlo, entra en la página oficial y descarga la aplicación según tu sistema operativo, ya sea Mac o Windows. En mi caso, voy a seleccionar esta segunda opción. Una vez descargado el instalador, ejecútalo y sigue los pasos habituales de instalación. Al terminar, abre la aplicación y selecciona Get Started. Si ya tienes una cuenta en la versión web de Cloud, inicia sesión con esa misma y si no tienes, puedes crear una nueva en este momento. Yo voy a usar la opción de iniciar sesión con Google. Cuando completes el inicio de sesión, ya tendrás Cloud funcionando en tu escritorio. El segundo paso es instalar Node.js, que es el entorno que necesitamos para configurar el MCP correctamente. Para hacerlo, de nuevo, solo tienes que ir a su página oficial, darle a este botón de aquí y seleccionar tu sistema para descargar el instalador y después ejecutarlo. Cuando se complete la descarga, abre el instalador y simplemente sigue las instrucciones. Pulsa Continuar, acepta los términos y completa la instalación con los pasos habituales. No hay que tocar ninguna opción avanzada, simplemente deja la configuración por defecto y en unos segundos tendrás Node.js instalado en tu ordenador. Con esto, ya tenemos listo el entorno que Cloud necesita para poder comunicarse con el MCP. El siguiente paso es poner en marcha el servidor MCP de N8n, que será el puente entre Cloud y tus automatizaciones. Para hacerlo, vamos a abrir este repositorio en GitHub del conector de N8n para MCP y aquí tenemos varias formas de configurarlo, pero la más sencilla es la primera opción, ya que no requiere instalación adicional y además es la más rápida. Lo único que tienes que hacer es copiar el comando que aparece en la guía y abrir tu terminal o la línea de comandos si estás en Windows y pegarla por aquí para después pulsar Enter. Si es la primera vez que lo haces, te aparecerá un mensaje de confirmación como este, así que simplemente vamos a escribir Y y seguiremos con el proceso. Una vez aceptes, verás un mensaje indicando que el servidor MCP de N8n se está ejecutando correctamente. Eso significa que la conexión ya está activa y lista para integrarse con Cloud. Ahora que tenemos el servidor MCP de N8n ya en marcha, lo que hace falta es decirle a Cloud que tiene que utilizarlo. Para eso, actualizaremos el archivo de configuración de Cloud Desktop. Lo primero es abrir la aplicación de Cloud en tu ordenador e ir al menú de Configuración. Una vez aquí, iremos al apartado de Desarrollador y le daremos a la opción que dice Editar Cuando haces esto, se te abrirá el archivo de configuración en formato de texto. Puede parecer algo muy técnico, pero lo único que tienes que hacer es copiar y pegar el bloque de código que aparece en la guía oficial del repositorio de N8n. Por tanto, vamos a volver al repositorio, copiar este segundo bloque de aquí y pegarlo en el archivo que acabamos de abrir. Y ahora, muy importante, hay que completar dos datos claves, la URL del API de N8n y la API Key de esta misma plataforma. Para encontrar el primer campo, tan solo tienes que abrir tu instancia de N8n y fijarte en la barra de búsqueda. La primera parte es la URL que nosotros necesitamos, así que vamos a copiarla tal cual y pegarla en el archivo de configuración en su campo correspondiente, que en esta ocasión es este de aquí, y muy importante, sin esta barra del final. El segundo campo vamos a encontrarlo en el apartado de Configuraciones y en la sección de API Keys. Si ya tienes una creada, puedes reutilizarla, si no, le das a este botón de aquí, le pones su nombre que la identifique bien, seleccionas una fecha de caducidad, que en mi caso será de 7 días, y por último le damos en Guardar. Recuerda que esta clave es privada y da acceso completo a tu cuenta, así que no la compartas o si lo haces, asegúrate de eliminarla después. Vamos a hacer clic aquí y repetir el mismo proceso, aunque esta vez seleccionando este segundo campo y pegándolo por aquí. Con la URL y API Keys copiadas en el archivo de configuración, solo queda guardar los cambios y reiniciar Cloud. Una vez hecho esto, pueden pasar dos cosas, o bien no hay ningún problema y te aparece la misma interfaz que tengo ya en pantalla, o te aparecen por aquí un montón de errores en rojo. Si esta segunda opción es tu caso, no te preocupes, no te han hackeado, simplemente hay un error en la estructura y por tanto tienes que arreglarla. Para ello puedes apoyarte en un modelo cualquiera como ChatGPT, le comentas la estructura, los errores que te aparecen y listo. Cuando vuelvas a abrirlo, verás que en el apartado de Conectores tenemos este de aquí llamado n8nmcp con todas estas herramientas o acciones que podemos ejecutar. Eso significa que la integración ya está funcionando. Llegados a este punto, técnicamente ya podrías empezar a hacer pruebas, pero hay una configuración adicional que puede ayudarnos a tener resultados aún mejores, que es crear un proyecto y añadirle un prompt optimizado. Esto es bastante importante porque en un chat normal, Cloud siempre empieza desde cero. En cambio, en un proyecto puedes definir las bases iniciales con una instrucción que el modelo siempre tendrá en cuenta. Ahora, esta característica solo está disponible para los usuarios del plan PRO, pero aún así puedes pegar el prompt sin necesidad de crear un nuevo proyecto y, aunque tendrás que hacerlo cada vez que quieras interactuar con el agente, merece completamente la pena. El prompt que utilizaremos también está en la guía y es este de aquí, que como puedes ver está diseñado para guiar paso a paso la creación de workflows en n8n con la máxima precisión. No solo marca un orden claro, sino que establece reglas de validación y buenas prácticas que garantizan que tu flujo esté optimizado desde el principio. Como digo, si no tienes el plan PRO, simplemente copia este prompt y pégalo en el chat. Y si lo tienes, ves el apartado de proyectos, asigna un nombre como n8nmcp, dale al botón de crear y, por último, asigna en el apartado de instrucciones el prompt que estamos viendo de igual manera como si fuese un chat. A partir de ahora, cada vez que uses este proyecto, Cloud sabrá que debe seguir estas instrucciones base. Esto significa que cuando le pidas crear un workflow o un agente de ella, el resultado será mucho mejor. Además de esto, todavía podemos hacer una mejora adicional añadiendo contexto y documentación para que la gente sea más capaz a la hora de crear código y por tanto la salida sea aún mejor. Para eso vamos a utilizar estas extensiones de aquí que copiaremos tal cual y pegaremos en el archivo de configuración que ya hemos visto. Esta extensión de aquí nos ayuda a conectarnos directamente con la documentación de workflows de n8n y esta otra añade contexto adicional para el mcp. Para utilizarlos, simplemente copia estos bloques y añádelos en tu archivo de configuración justo debajo de la entrada que ya creamos para n8n-mcp y te quedará algo parecido a esto. Asegúrate de que las llaves estén bien cerradas, si no, te aparecerán los errores en rojo y tendrás que pedir ayuda a un modelo como chat-gpt. Después asegúrate de reiniciar la aplicación de Cloud y ahora sí, ya está todo listo. Ahora ya sería cuestión de ir haciendo pruebas y construir lo que queramos. Por ejemplo, voy a pedirle que cree un workflow funcional en n8n, que reciba mensajes en Telegram, detecte si son texto o audio, envíe el contenido a un agente con acceso a las herramientas de Calendar, Sheets y Gmail y por último responda al usuario por el mismo canal con un resumen claro del resultado. Así que voy a darle a enviar y a ver qué tal. Una vez envíes tu primera consulta, te empezarán a aparecer estos mensajes de aquí. Simplemente tienes que seleccionar una de estas tres opciones y marcar qué quieres que el modelo haga con esta herramienta en concreto, si de negar, permitir siempre o permitir solo una vez. En mi caso voy a marcar esta última opción. Por aquí me dice que va a diseñar un workflow completo en n8n y a partir de ahí empieza a invocar a diferentes herramientas. Por ejemplo, revisa la documentación, aquí me dice que va a buscar templates existentes relacionadas con Telegram y agentes de IA, por aquí lo tenemos, me dice por aquí que ha encontrado algunas y ahora que está buscando nodos específicos para utilizar en nuestro workflow. Y evidentemente nos apoyamos en el nuevo modelo SONNET 4.5 que es de lo mejor en programación y así nos aseguramos de tener el mejor resultado posible. Una cosa que se me ha olvidado mencionar es que si has hecho el último paso de editar el archivo de configuración de Cloud, por aquí te aparecerá otro servidor MCP llamado n8nworkflowdocs con estas otras herramientas, que son precisamente las que nos están ayudando a buscar todos estos nodos uno por uno, porque si te fijas en esta ocasión está haciendo una búsqueda con la query de Google Calendar, pero aquí con la de Google Sheets y aquí con la de OpenAI. Vamos a ver qué me dice, he analizado tus requisitos y diseñado una solución completa. Antes de construirla quiero que revises esta arquitectura. Tenemos por aquí un Telegram Trigger que evidentemente recibe el mensaje, después pasa a un switch donde detecta si es un texto o un audio, en el caso de esta segunda opción se transcribe con OpenAI Whisper, después pasa a un agente de inteligencia artificial con acceso a Sheets, Correo y Calendario y por último se envía un mensaje de vuelta con el resultado por Telegram. Por aquí me detalla los diferentes agentes y herramientas, los nodos principales, ventajas y me pregunta si me parece bien, así que evidentemente voy a decirle que sí y a ver si es capaz de construirlo. Es curioso porque está creando varios artefactos y en cada uno de ellos escribiendo un código personalizado, creo que por aquí tenemos el agente principal, pero después los subagentes de Calendario, Google Sheets e incluso Correo Electrónico y por aquí he visto que tengo incluso una guía completa de despliegue. Por aquí me detalla absolutamente todo, desde cómo crear el bot de Telegram, es decir configurar el token del bot con Botfader, hasta incluso cómo configurar la API de OpenAI y por último unas cuantas recomendaciones además de la configuración de credenciales. De hecho es una guía bastante extensa y además de esta me ha preparado otra con ejemplos de uso y mejores prácticas y ahora me dice por aquí que está creando un resumen ejecutivo final. Creo que me he pasado con el prompt así que voy a decirle lo siguiente, no quiero que crees más documentos, simplemente que me compartas un enlace y crees el workflow en mi instancia de N8n. Vamos a enviarle esto de aquí y a ver qué es capaz de hacer. Por aquí acaba de verificar la conexión con mi instancia con esta herramienta y con esta otra ya está creando un workflow dentro de mi N8n. Me acaba de decir que ya ha terminado, que el workflow está 100% funcional y por aquí me da una URL así que vamos a abrirla para ver el resultado final. Por aquí tenemos el primer resultado que la verdad se ve bastante bien aunque en lugar de un agente de inteligencia artificial ha añadido un clasificador de texto que yo creo que es porque en el prompt no se lo he dejado muy claro. Aún así podemos comprobar que la funcionalidad, la temática cumple bastante con lo que le había pedido. Evidentemente hay que hacer un par de configuraciones manuales como elegir el horario en caso de Google Calendar o la tabla en Google Sheets pero lo que voy a hacer ahora va a ser rellenar todos estos campos y ver si realmente funciona. Estoy haciendo algunas pruebas y sí que es verdad que no es perfecto pero no está nada mal. Por ejemplo, en el caso del clasificador de texto he tenido que rellenar todas estas descripciones de forma manual que recordemos que lo que permiten es precisamente que se puedan rotar y filtrar la información correctamente y además me estoy dando cuenta que en el caso de Gmail esta ramada aquí no tiene mucho sentido ya que habría que incluir algún tipo de agente de inteligencia artificial para poder rellenar estos campos y aún así no están. Pero sí que es verdad que por ejemplo en Google Sheets y en Calendar lo hace a la perfección y además he estado probando con el tema de enviar tanto mensajes de texto como audio y la verdad es que lo hace bien. Sí que es verdad que hay algunos detalles, por ejemplo este de aquí donde se están recibiendo los 101 contactos que tengo en mi base de datos y que como están pasando una columna por ítem, si ahora mismo activo este paso puedes comprobar que si voy a mi Telegram me empezarán a enviar 101 mensajes. A pesar de esto hay algunas cosas que sí me han gustado, por ejemplo que el campo de chat ID se rellena automáticamente con la variable del ID que viene del trigger además de evidentemente todo esto que es bastante complejo de configurar al menos si no tienes una buena idea y de nuevo está correctamente configurado tanto el ID como en este caso también el mensaje, etc. Evidentemente no es un resultado perfecto ni mucho menos para llevar a producción pero sí que es una primera base para empezar a trabajar después bastante buena. Como ves con MCP podemos hacer que modelos como Cloudee no solamente sean capaces de responder preguntas sino además de interactuar con herramientas externas como N8n con resultados bastante aceptables y lo mejor es que esto no se quede aquí, a medida que vayas añadiendo más conectores y flujos tu asistente será cada vez más capaz y autónomo. Además de todo lo que hemos estado viendo en este vídeo, si quieres aprender mucho más sobre N8n e Inteligencia Artificial te recuerdo que puedes unirte a mi comunidad de Skool. En esta comunidad vas a encontrar una guía completa de N8n de principiante a experto junto con más de 100 plantillas listas para usar y otras secciones muy interesantes como un paso a paso para montar tu propia agencia de Inteligencia Artificial, Vive Coding, MCP y muchas más. Por no mencionar que cada semana tenemos premios en efectivo por compartir valor además de competiciones mensuales, que de hecho hay una activa ahora mismo. Honestamente creo que es el lugar perfecto tanto si estás empezando como si eres freelance o tienes una agencia que quiere escalar con soluciones de alto valor. El precio va subiendo con el tiempo así que si quieres aprovechar la oferta actual te dejo el enlace en la descripción para que puedas unirte hoy mismo. Si te ha gustado la explicación no olvides suscribirte al canal, darle like a este vídeo y comentar que te ha parecido. Recuerda que en la descripción encontrarás un enlace a todas las herramientas mencionadas además de la plantilla que hemos estado viendo el día de hoy. Nos vemos en el próximo vídeo.
